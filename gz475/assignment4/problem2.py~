# Gang Zhao, Assignment 4, Problem2
import MySQLdb
import sys
# Catch input
code = sys.argv[1]
# Connect MySQL
db = MySQLdb.connect(host = "localhost",
                   user = "gz475",
                   passwd = "123456",
                   db = "coursedb")
cur = db.cursor()
# Caculate the total population and area of given zipcode
query = "select population from zipcodes where zipcode = " + "'" + code + "'"+ ";"
cur.execute(query)
population = cur.fetchall()
query = "select area from zipcodes where zipcode = " + "'" + code + "'"+ ";"
cur.execute(query)
area = cur.fetchall()
totalpop = 0
totalarea = 0
# no record in zipcodes print None
if len(population)==0:
    print 'None'
# one and multi records
if len(population)>= 1:
    for x in range(0,len(population)):
            totalpop += int(population[x][0])
            totalarea += float(area[x][0])
    print float(totalpop)/float(totalarea)

